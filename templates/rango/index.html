<!DOCTYPE html>
{% load staticfiles %}
<!--
    access static media
    The { % static %} function call should be used whenever you wish to reference static media within a template. or when wanting to use js/css/imgs
    in tempaltes with correct html markup. files must
    be in the static directory.
--> 


<!--
    Title seen in browswer bar.
-->
<html>

	<head>
		<title>Rango</title>
	</head>

	<body>
		{% if user.is_authenticated %}
        <h1>
            Rango says... hello 
            {{ user.username }}!
        </h1>
        {% else %}
            <h1>
                Rango says... hello world!
            </h1>
        {% endif %}
        <br />
		{% if categories %}
			<strong>
        		Top 5 Categories:
        	</strong>

            <ul>
                {% for category in categories %}
                <!--
                        notice that you have a parameterized url pattern, i.e. the category url/view takes the category.slug as a parameter. To handle this you can pass the url template tag the name of the url/view and the slug, i.e. { % url ‘category’ category.slug % } within the template,
                    -->
                <li><a href="/rango/category/{{ category.slug }}">{{ category.name }}</a></li>                {% endfor %}
            </ul>
        {% else %}
            <strong>There are no categories present.</strong>
        {% endif %}

         {% if pages %}
        	<strong>
        		Top 5 Pages:
        	</strong>
	        <ul>
	        	{% for page in pages %} 
                	<li>
                		<a href="{{ page.url }}">
                			{{ page.title }}
                		</a>
                		{{ page.views }}
                	</li>
	        	{% endfor %}
	        </ul>
	    {% else %}
	        <strong>
	        	There are no pages present.
	        </strong>
        {% endif %}

        {% if user.is_authenticated %}
            <a href="/rango/restricted/">Restricted Page</a><br />
            <a href="/rango/logout/">Logout</a><br />
            <a href="/rango/add_category/">Add a New Category</a><br />
        {% else %}
            <a href="/rango/register/">Register Here</a><br />
            <a href="/rango/login/">Login</a><br />
        {% endif %}

            <a href="/rango/about/">About</a><br/>
            
	</body>

</html>
